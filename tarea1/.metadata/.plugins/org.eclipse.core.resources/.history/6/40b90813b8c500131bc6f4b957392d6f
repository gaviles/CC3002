package tarea;

public class DataProcessor {
	
	private int maximun,minimun;
	private String textData;
	private int gap;
	private int[] data;
	
	public DataProcessor(String string){
		setData(string);
	}
	public int[] parseData(){
		return parseData(textData);
	}
	public void setData(String string){
		textData = string;
		data = parseData();
	}
	public int[] parseData(String string){
		
		String[] data = string.split(",");		
		
		int[] numbers = new int[data.length];
		
		maximun = Integer.MIN_VALUE;
		minimun = Integer.MAX_VALUE;
		
		for(int i = 0; i < data.length ; i++ ){
			
			numbers[i] = Integer.parseInt(data[i]);
			if(numbers[i]>maximun){
				maximun = numbers[i];
			}
			if(numbers[i]<minimun){
				minimun = numbers[i];
			}
		}
		
		gap = maximun-minimun;
		return numbers;
	}	
	// This function return the fitting interval of the number given
	// need to receive the number of interval and the number that
	// are going to be analyzed
	// returns the interval between 0 to (intervalsNumber - 1) 
	public int getInterval(int dataNumber, int intervalsNumber){
		
		if(gap > 0){
			return Math.round( (dataNumber - getMinimun() )*(intervalsNumber-1)/( getGap() ) );
		}else{
			return 0;
		}
	}
	public int getGap(){
		return gap;
	}
	public int getMaximun(){
		return maximun;
	}
	public int[] getParsedData(){
		return data;
	}
	public int getMinimun(){
		return minimun;
	}
}
